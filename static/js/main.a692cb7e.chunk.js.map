{"version":3,"sources":["components/ActivityChart/mockChart.svg","components/SummaryTable/defaultAvatarWhite.png","components/Container.tsx","components/Header/index.tsx","components/ActivityChart/index.tsx","components/SummaryStats/index.tsx","utils/format.ts","components/TimeDisplay.tsx","components/SummaryTable/index.tsx","fetch/params.ts","settingsContext.ts","components/RepoView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Container","props","className","children","Header","ActivityChart","src","mockChart","alt","SummaryStats","packageCount","versionCount","cards","title","stat","Icon","GoPackage","MdUpdate","map","key","capitalize","s","charAt","toUpperCase","slice","prettyName","name","replace","split","join","TimeDisplay","timestamp","time","moment","calendar","fromNow","SummaryTable","repoSummary","ipfsGateway","history","useHistory","sortBy","repo","latest","reverse","registry","onClick","push","goToRepoView","LogoFallback","url","contentUri","version","RegistryDisplay","useState","setSrc","onError","defaultLogo","shortName","undefined","repoSummaryFile","SettingsContext","React","createContext","txViewer","Provider","Consumer","RepoView","match","repoData","setRepoData","settings","useContext","params","filepath","getRepoFile","useEffect","fetch","then","res","json","latestVersion","versions","versionId","v","address","txHash","sender","href","App","setRepoSummary","length","reduce","total","path","exact","component","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a692cb7e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mockChart.4386fe80.svg\";","module.exports = \"data:image/png;base64,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\"","import React from \"react\";\n\nconst Container: React.FC = (props) => (\n  <div className=\"app-container\">{props.children}</div>\n);\n\nexport default Container;\n","import React from \"react\";\nimport Container from \"../Container\";\nimport \"./header.scss\";\n\nexport default function Header() {\n  return (\n    <div className=\"header_header\">\n      <Container>\n        <h1>\n          <span className=\"dappnode\">DAppNode</span>\n          <span className=\"explorer\">EXPLORER</span>\n        </h1>\n      </Container>\n    </div>\n  );\n}\n","import React from \"react\";\nimport mockChart from \"./mockChart.svg\";\nimport \"./activity-chart.scss\";\n\nexport default function ActivityChart() {\n  return (\n    <div className=\"activity-chart\">\n      <img src={mockChart} alt=\"mock-chart\"></img>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { GoPackage } from \"react-icons/go\";\nimport { MdUpdate } from \"react-icons/md\";\nimport \"./summary-stats.scss\";\n\nexport default function SummaryStats({\n  packageCount,\n  versionCount,\n}: {\n  packageCount: number;\n  versionCount: number;\n}) {\n  const cards = [\n    { title: \"Published packages\", stat: packageCount, Icon: GoPackage },\n    { title: \"Published versions\", stat: versionCount, Icon: MdUpdate },\n  ];\n\n  return (\n    <div className=\"summary-stats\">\n      {cards.map(({ title, stat, Icon }) => (\n        <div key={title} className=\"card\">\n          <span className=\"title\">{title}</span>\n          <span className=\"stat\">{stat}</span>\n          <span className=\"icon\">\n            <Icon />\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n}\n","/**\n * Capitalizes a string\n * @param string = \"hello world\"\n * @returns \"Hello world\"\n */\nfunction capitalize(s: string): string {\n  if (!s || typeof s !== \"string\") return s;\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/**\n * Pretifies a package name\n * \"bitcoin\" => \"Bitcoin\"\n * \"raiden-testnet\" => \"Raiden Testnet\"\n *\n * @param name ENS name\n * @returns pretty name\n */\nexport function prettyName(name: string): string {\n  return (\n    name\n      // Convert all \"-\" and \"_\" to spaces\n      .replace(/-/g, \" \")\n      .replace(/_/g, \" \")\n      .replace(/\\./g, \" \")\n      .split(\" \")\n      .map(capitalize)\n      .join(\" \")\n  );\n}\n\n/**\n * Pretifies a ENS name\n * \"bitcoin.dnp.dappnode.eth\" => \"Bitcoin\"\n * \"raiden-testnet.dnp.dappnode.eth\" => \"Raiden Testnet\"\n *\n * @param name ENS name\n * @returns pretty name\n */\nexport function parseRepoName(\n  name: string\n): { registry: string; prettyName: string } {\n  const [shortName, registry] = name.split(/\\.(.+)/);\n\n  return {\n    prettyName: prettyName(shortName),\n    registry,\n  };\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\n/**\n * Display last time an event happened nicely\n */\nexport function TimeDisplay({ timestamp }: { timestamp?: number }) {\n  if (!timestamp) return <div>-</div>;\n  const time = moment(timestamp * 1000);\n  return (\n    <>\n      <div>{time.calendar()}</div>\n      <div className=\"light\">{time.fromNow()}</div>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./summary-table.scss\";\nimport { prettyName } from \"../../utils/format\";\nimport { RepoSummary } from \"../../fetch/types\";\nimport { sortBy } from \"lodash\";\nimport defaultLogo from \"./defaultAvatarWhite.png\";\nimport { TimeDisplay } from \"../TimeDisplay\";\n\nexport default function SummaryTable({\n  repoSummary,\n  ipfsGateway,\n}: {\n  ipfsGateway: string;\n  repoSummary: RepoSummary[];\n}) {\n  const history = useHistory();\n\n  function goToRepoView(registry: string, repo: string) {\n    history.push(`/${registry}/${repo}`);\n  }\n\n  return (\n    <table className=\"summary-table\">\n      <thead>\n        <tr>\n          <th className=\"logo\"></th>\n          <th>Name</th>\n          <th>Last updated</th>\n          <th>Last version</th>\n          <th>Registry</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sortBy(repoSummary, (repo) => (repo.latest || {}).timestamp || 0)\n          .reverse()\n          .map(({ name, registry, versionCount, latest }) => (\n            <tr\n              key={name + registry}\n              onClick={() => goToRepoView(registry, name)}\n            >\n              <td className=\"logo\">\n                {latest && (\n                  <LogoFallback\n                    url={`${ipfsGateway}/${latest.contentUri}/avatar.png`}\n                  />\n                )}\n              </td>\n              <td>{prettyName(name)}</td>\n              <td>\n                <TimeDisplay timestamp={latest?.timestamp} />\n              </td>\n              <td>\n                <div>{latest?.version}</div>\n                <div className=\"light\">{versionCount}</div>{\" \"}\n              </td>\n              <td>\n                <RegistryDisplay registry={registry} />\n              </td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  );\n}\n\n/**\n * Hide broken image if logo not available\n * @param param0\n */\nfunction LogoFallback({ url }: { url: string }) {\n  const [src, setSrc] = useState(url);\n  function onError() {\n    setSrc(defaultLogo);\n  }\n  return <img src={src} onError={onError} alt=\"logo\" />;\n}\n\n/**\n * Display registry as a colored pill by name\n */\nfunction RegistryDisplay({ registry }: { registry: string }) {\n  const shortName =\n    registry === \"dnp.dappnode.eth\"\n      ? \"dnp\"\n      : registry === \"public.dappnode.eth\"\n      ? \"public\"\n      : undefined;\n  return (\n    <div className=\"registry\">\n      <span className={shortName}>{shortName || registry}</span>\n    </div>\n  );\n}\n","/**\n * Common params between node and browser\n */\n\nexport const rootDirFromNode = `public`;\nexport const rootUrlFromBrowser = `./`;\n\n// Partial common paths\nexport const dataDir = \"data\";\nexport const registriesFile = `${dataDir}/registries.json`;\nexport const repoSummaryFile = `${dataDir}/summary.json`;\nexport const getRegistryFile = (registry: string) =>\n  `${dataDir}/${registry}.json`;\nexport const getRepoFile = (registry: string, repo: string) =>\n  `${dataDir}/${registry}/${repo}.json`;\n","import React from \"react\";\n\ninterface Settings {\n  ipfsGateway: string;\n  txViewer: string;\n}\n\nconst SettingsContext = React.createContext<Settings>({\n  ipfsGateway: \"https://ipfs.io\",\n  txViewer: \"https://etherscan.io/tx\",\n});\n\nexport const SettingsProvider = SettingsContext.Provider;\nexport const SettingsConsumer = SettingsContext.Consumer;\n\nexport default SettingsContext;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { sortBy } from \"lodash\";\nimport { rootUrlFromBrowser, getRepoFile } from \"../fetch/params\";\nimport { LocalRepo } from \"../fetch/types\";\nimport { TimeDisplay } from \"./TimeDisplay\";\nimport { MdOpenInNew } from \"react-icons/md\";\nimport SettingsContext from \"../settingsContext\";\nimport \"./repoViewer.scss\";\nimport { prettyName } from \"../utils/format\";\n\nconst txViewer = \"https://etherscan.io/tx\";\n\nexport const RepoView: React.FC<RouteComponentProps<{\n  registry: string;\n  repo: string;\n}>> = ({ match }) => {\n  const [repoData, setRepoData] = useState<LocalRepo>();\n\n  const settings = useContext(SettingsContext);\n\n  const { registry, repo } = match.params;\n  const filepath = getRepoFile(registry, repo);\n  useEffect(() => {\n    fetch(`${rootUrlFromBrowser}/${filepath}`)\n      .then((res) => res.json())\n      .then(setRepoData);\n  }, [filepath]);\n\n  if (!repoData) return <p>No repo data</p>;\n\n  const latestVersion = sortBy(\n    repoData.versions,\n    (version) => version.versionId\n  ).reverse()[0];\n\n  return (\n    <div>\n      <div className=\"repo-name\">{prettyName(match.params.repo)}</div>\n      <div className=\"registry\">{match.params.registry}</div>\n\n      {latestVersion ? (\n        <iframe\n          className=\"content-preview\"\n          title=\"Content\"\n          src={`${settings.ipfsGateway}/${latestVersion.contentUri}`}\n        ></iframe>\n      ) : null}\n\n      <table className=\"summary-table\">\n        <thead>\n          <tr>\n            <th>Version</th>\n            <th>Age</th>\n            <th>Content</th>\n            <th>From</th>\n            <th>Txn</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortBy(repoData.versions, (v) => v.versionId)\n            .reverse()\n            .map(({ version, contentUri, txHash, timestamp, sender }) => (\n              <tr key={version}>\n                <td>{version}</td>\n                <td>\n                  <TimeDisplay timestamp={timestamp} />\n                </td>\n                <td>\n                  <a href={contentUri}>content</a>\n                </td>\n                <td>{sender ? prettyAddress(sender) : \"\"}</td>\n                <td className=\"txn\">\n                  <a href={`${txViewer}/${txHash}`}>\n                    <MdOpenInNew />\n                  </a>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nfunction prettyAddress(address: string) {\n  return `${address.slice(0, 6)}...${address.slice(-4)}`;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport ActivityChart from \"./components/ActivityChart\";\nimport SummaryStats from \"./components/SummaryStats\";\nimport SummaryTable from \"./components/SummaryTable\";\nimport { RepoView } from \"./components/RepoView\";\nimport { repoSummaryFile, rootUrlFromBrowser } from \"./fetch/params\";\nimport \"./App.scss\";\nimport { RepoSummary } from \"./fetch/types\";\n\n// fetchFromBrowser(new ethers.providers.InfuraProvider());\n\nexport default function App() {\n  const [repoSummary, setRepoSummary] = useState<RepoSummary[]>([]);\n  const ipfsGateway = \"https://ipfs.io\";\n\n  useEffect(() => {\n    fetch(`${rootUrlFromBrowser}/${repoSummaryFile}`)\n      .then((res) => res.json())\n      .then(setRepoSummary);\n  }, []);\n\n  const packageCount = repoSummary.length;\n  const versionCount = repoSummary.reduce(\n    (total, repo) => total + repo.versionCount,\n    0\n  );\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"app-body\">\n        {/* Home */}\n        <Route path=\"/\" exact>\n          <ActivityChart />\n          <SummaryStats\n            packageCount={packageCount}\n            versionCount={versionCount}\n          />\n          <SummaryTable ipfsGateway={ipfsGateway} repoSummary={repoSummary} />\n        </Route>\n        <Route path=\"/:registry/:repo\" component={RepoView} />\n      </div>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport \"./style.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}